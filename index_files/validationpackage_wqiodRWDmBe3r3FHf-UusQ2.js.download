!function(){function e(e,n){if(e){if(n){var i=t.Account.viewModelHandle;if(i&&i.validationOrder){var o=jQuery.inArray(e,i.validationOrder),r=o+1,a=i.validationOrder.length===r;if(a){e.focused&&e.focused(!0)}else{if(i.validationOrder.length>r){var s=i.validationOrder[r];s&&s.focused&&(e.focused&&e.focused(!1),s.focused(!0))}}}}else{e.focused&&e.focused(!0)}}}var n=window,t=n.wLive;registerNamespace("wLive.Account.Extensions.Utils"),t.Account.Extensions.Utils.setFocusOnObservable=e}(),function(){var e=window,n=e.jQuery,t=".placeholder",i="placement",o={"top":"top","left":$B.ltr?"left":"right","right":$B.ltr?"right":"left","bottom":"bottom"};
ko.bindingHandlers.autoSubmit={"update":function(e,t){var i=t(),o=ko.unwrap(i);o&&(ko.isObservable(i)&&i(!1),n(e).submit())}},ko.bindingHandlers.errorMessage={"init":function(){return{"controlsDescendantBindings":!0}},"update":function(e,n,t,i,o){{var r=null,a=n();ko.utils.unwrapObservable(a)}if(a.isValid()||a.suppressClientErrors&&a.suppressClientErrors()?a.isModified()||(r=a.serverError||null):r=a.error,ko.utils.setHtml(e,r),t.has("childBindings")){var s=t.get("childBindings")||{};for(var l in s){var u=document.getElementById(l);
u&&u.setAttribute("data-bind",s[l])}ko.applyBindingsToDescendants(o,e)}}},ko.bindingHandlers.validatorError={"init":function(){return{"controlsDescendantBindings":!0}},"update":function(e,n,t,i,o){{var r=null,a=n();ko.utils.unwrapObservable(a)}if(a.isModified()&&!a.isValid()&&(r=a.error),!a.isModified()&&a.serverError&&(r=a.serverError),ko.utils.setHtml(e,r),t.has("childBindings")){var s=t.get("childBindings")||{};for(var l in s){var u=document.getElementById(l);u&&u.setAttribute("data-bind",s[l])}ko.applyBindingsToDescendants(o,e)
}}},ko.bindingHandlers.hasFocusSelect={"init":function(e,n,t){ko.bindingHandlers.hasfocus.init(e,n,t)},"update":function(e,t){ko.bindingHandlers.hasfocus.update(e,t);var i=t(),o=ko.utils.unwrapObservable(i);o&&n(e).select()}},ko.bindingHandlers.setFocus={"update":function(e,t){var i=t(),o=ko.utils.unwrapObservable(i);o&&n(e).focus()}},ko.bindingHandlers.tooltip={"init":function(e,t){if(!($B&&$B.IE&&$B.V&&$B.V<=8)){var r=t(),a=ko.utils.unwrapObservable(r),s=n(e),l=n(window),u=".tooltip";if(a&&a.target){var d=n(a.target);
d&&d.length>0&&(s.on("blur"+u,function(){d.is(":focus")||d.tooltip("hide")}),s.on("focus"+u,function(){d.tooltip("show")})),l.on("resize",function(){s.is(":focus")&&(d.tooltip("hide"),d.tooltip("show"))})}else{s.on("show.bs.tooltip",function(){n(".tooltip").not(this).hide()});var c={};c.animation=!1;var v=a&&a[i]&&o[a[i]];c[i]=v||o.right,c.container="#maincontent",c.viewport="#maincontent",a&&a.html&&(c.html=!0,c.delay={"show":150,"hide":100}),a&&a.setup?(c.trigger="manual",a.setup()):c.trigger="focus",a&&a.dynamic&&s.on("change"+u,function(){s.tooltip("hide"),s.tooltip("show")
}),a&&a.hover&&(s.on("mouseover"+u,function(){s.tooltip("show")}),s.on("mouseout"+u,function(){s.tooltip("hide")})),a&&a.click&&(s.on("click"+u,function(){s.tooltip("show")}),s.on("focus"+u,function(){s.tooltip("show")}),s.on("blur"+u,function(){s.tooltip("hide")})),s.tooltip(c),l.on("resize",function(){s.is(":focus")&&(s.tooltip("hide"),s.tooltip("show"))})}ko.utils.domNodeDisposal.addDisposeCallback(e,function(){l.off("resize"),s.off(u),l=null,s=null})}}},ko.bindingHandlers.inputWithPlaceholder={"init":function(e,i,o){ko.bindingHandlers.textInput.init(e,i,o);
var r=".placeholder",a=n(e),s=a.next(t);s.on("click"+r,function(){setTimeout(function(){a.focus()},0)}),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){a=null,s.off(r),s=null})},"update":function(e,i,o){var r=ko.bindingHandlers.textInput.update;r&&r();var a=i(),s=ko.utils.unwrapObservable(a),l=n(e).next(t);l.length>0&&ko.bindingHandlers.visible.update(l[0],function(){var e=o.get("inlineLabelId");if(e){var t=n("#"+e);s?t.css("opacity",1):t.css("opacity",0)}return!s})}},ko.bindingHandlers.htmlWithBindings={"init":function(){return{"controlsDescendantBindings":!0}
},"update":function(e,n,t,i,o){ko.utils.setHtml(e,n());var r=t.get("childBindings");if(r){for(var a in r){var s=document.getElementById(a);s&&ko.applyBindingsToNode(s,r[a],o)}}ko.applyBindingsToDescendants(o,e)}},ko.bindingHandlers.moveOffScreen={"update":function(e,n){var t=ko.unwrap(n());ko.bindingHandlers.css.update(e,function(){return{"moveOffScreen":t}}),ko.bindingHandlers.attr.update(e,function(){return{"tabindex":t?-1:0,"aria-hidden":t}})}},ko.bindingHandlers.ariaDescribedBy={"update":function(e,n){ko.bindingHandlers.attr.update(e,function(){return{"aria-describedby":n()}
})}}}(),function(){function e(e,n){return!e||!Boolean(e.match(n))}function n(e,n,t){var i=!0;return r.each(n,function(n,o){return i=Boolean(e.match(o)),t?i:!i}),i}function t(e,n,t){return t&&(e=e.toLowerCase(),n=n.toLowerCase()),0===e.indexOf(n)}function i(e,n,t){return t&&(e=e.toLowerCase(),n=n.toLowerCase()),e.lastIndexOf(n)+n.length===e.length}var o=window,r=o.jQuery,a=o.wLive,s=a.Core,l=a.Account,u=l.Util,d=o.$Config.WLXAccount,c=d.signup,v=s.DataRequest,f=l.FieldHelper,g=l.Extensions.Utils,p=u&&u.MarchingAnts,m=u&&u.FullScreenSpinner,h="newpwd";
r.extend(ko.validation.rules,{"birthdatePartRequired":{"validator":function(e){var n="",t="",i="",o=e.split(":");return 3===o.length&&(n=o[0],t=o[1],i=o[2]),Boolean(n&&t&&i)},"message":""},"birthdateValid":{"validator":function(e){var n=new Date,t="",i="",o="",r=e.split(":");3===r.length&&(t=r[0],i=r[1],o=r[2]);var a=parseInt(o,10),s=parseInt(i,10)-1,l=parseInt(t,10),u=new Date(a,s,l);return!(u>n||0/0===a||0/0===s||0/0===l||l!==u.getDate()||s!==u.getMonth()||a!==u.getFullYear())},"message":""},"pwdContainsMemberName":{"validator":function(e){var n=c.viewContext&&c.viewContext.data&&c.viewContext.data.input?c.viewContext.data.input.memberNameInput:"";
return e&&n&&0!==n.length?-1===e.toLowerCase().indexOf(n.toLowerCase().split("@")[0]):!0},"message":""},"pwdComplexity":{"validator":function(e){for(var n=[/[\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E]+/,/[\x30-\x39]+/,/[\x41-\x5A]+/,/[\x61-\x7A]+/],t=2,i=0,o=0,r=n.length;r>o;o++){if(e.match(n[o])&&i++,i>=t){return!0}}return!1},"message":""},"strongPwdComplexity":{"validator":function(e){for(var n=[/[\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E]+/,/[\x30-\x39]+/,/[\x41-\x5A]+/,/[\x61-\x7A]+/],t=3,i=0,o=0,r=n.length;r>o;o++){if(e.match(n[o])&&i++,i>=t){return!0
}}return!1},"message":""},"notMatchingPattern":{"validator":function(n,t){return e(n,t)},"message":""},"allPatterns":{"validator":function(e,t){return n(e,t,!0)},"message":""},"onePattern":{"validator":function(e,t){return n(e,t,!1)},"message":""},"userNamePattern":{"validator":function(e,t){if(!e||0===e.length||-1===e.indexOf("@")){return!1}var i=e.split("@");return 2!==i.length?!1:n(i[0],t,!1)}},"userNameRequired":{"validator":function(e){if(!e||0===e.length||-1===e.indexOf("@")){return!1}var n=e.split("@");
return 2!==n.length?!1:n[0].trim().length>0}},"liveMemberNameValid":{"validator":function(e,t){var i=t.domains,o=t.patterns;return i&&0!==i.length&&f.getMemberNameType(e,i)===f.memberNameTypes.Live?n(e.split("@")[0],o,!0):!0}},"proofClearPortionMatchEmail":{"validator":function(e,o){if(e){var r=t(e,o.clearPortion(),!0),a=o.domainPortion(),s=o.patterns,l=o.allowZero;return l&&"0"===String(e)?!0:e.indexOf("@")>=0?r&&i(e,a,!0)&&n(e,s,!0):r&&n(e+a,s,!0)}return!1}},"proofClearPortionMatchPhone":{"validator":function(e,n){return n.allowZero&&"0"===String(e)?!0:Boolean(e&&e.length===n.matchDigits&&e.match(/^\d+$/)&&i(e,n.clearPortion(),!0))
}},"memberNameValidForFl":{"validator":function(e,n){var t=n.fl,i=f.getMemberNameType(e,n.domains);return"EASI"===t&&i!==f.memberNameTypes.EASI?!1:"Live"===t&&i!==f.memberNameTypes.Live?!1:"Phone"===t&&i!==f.memberNameTypes.Phone?!1:!0}},"hipValidation":{"validator":function(e){var n=o.HIPAMFE;return n&&n.done?(r("#hipContent .hiddenHipInputText").val(e),a.Account&&a.Account.viewModelHandle&&a.Account.viewModelHandle.hip&&a.Account.viewModelHandle.hip.serverError&&""===a.Account.viewModelHandle.hip()?(this.message=a.Account.viewModelHandle.hip.serverError,!1):(n.clientValidation(),n.setError(),this.message=n.getError(),""===n.getError())):!0
}},"bannedPwd":{"async":!0,"validator":function(e,n,t){var i={"uaid":o.$Config.uaid};i.cipherValue=Encrypt("","",h,e),i.ski=n.ski;var r=new v(null,n.url,i,function(e){m&&u.FullScreenSpinner.hide(e.isBanned),t(!e.isBanned),g.setFocusOnObservable(n.observable,!e.isBanned)},function(){m&&u.FullScreenSpinner.hide(!1),t(!0),g.setFocusOnObservable(n.observable,!0)});m&&u.FullScreenSpinner.show(),r.start()},"message":""},"checkAvailable":{"async":!0,"validator":function(e,n,t){var i={"signInName":e,"uaid":o.$Config.uaid};
n.dft&&(i.dft=n.dft),n.includeSuggestions&&(i.includeSuggestions=n.includeSuggestions);var r="Account_CheckAvailPage",a=new v(null,n.url,i,function(i){try{var a={},s=o.performance&&o.performance.now?o.performance.now():(new Date).getTime();a.pageId=r,a.duration=Math.round(s-checkAvailableNamesApiStartTime),a.skipClientCall=!0,$ReportEvent.Action(a)}catch(l){}var d=!i||i.isAvailable,v=i&&i.type,f=i&&i.suggestions||[],h=f.length>0,b=i&&i.isProof,w=i&&i.possibleEviction,x=i&&i.nopaAllowed,k=n.getResult&&n.getResult(0,e,d,v,h,b,w,x);
p&&p.hideLightboxProgress(),m&&u.FullScreenSpinner.hide(k&&!k.isValid||!d),n.getSuggestedMemberNames&&n.getSuggestedMemberNames(f),n.setSuccessMessage&&d&&n.setSuccessMessage(v,e),c.viewContext&&c.viewContext.data&&c.viewContext.data.reporting&&(c.viewContext.data.reporting.memberNameChangeCount++,d?c.viewContext.data.reporting.memberNameAvailableCount++:c.viewContext.data.reporting.memberNameUnavailableCount++),t(k?k:d),g.setFocusOnObservable(n.observable,d&&1===$B.IE)},function(i){var a=i&&i.error;try{var s={},l=o.performance&&o.performance.now?o.performance.now():(new Date).getTime();
s.pageId=r,s.duration=Math.round(l-checkAvailableNamesApiStartTime),s.errorCode=a?i.error.code:"",s.skipClientCall=!0,$ReportEvent.Action(s)}catch(d){}var v=i&&i.suggestions||[],f=v.length>0,h=n.getResult&&n.getResult(a&&i.error.code,e,void 0,void 0,f);p&&p.hideLightboxProgress(),m&&u.FullScreenSpinner.hide(!0),n.getSuggestedMemberNames&&n.getSuggestedMemberNames(v),c.viewContext&&c.viewContext.data&&c.viewContext.data.reporting&&(c.viewContext.data.reporting.memberNameChangeCount++,c.viewContext.data.reporting.memberNameUnavailableCount++),t(h?h:!1),g.setFocusOnObservable(n.observable,!0)
});m&&u.FullScreenSpinner.show(),p&&p.showLightboxProgress(),checkAvailableNamesApiStartTime=o.performance&&o.performance.now?o.performance.now():(new Date).getTime(),a.start()},"message":""},"getPhoneDetails":{"async":!0,"validator":function(e,n,t){function i(e){if(!e.phoneDetails||e.phoneDetails.length<=0){t(!1)}else{var i=e.phoneDetails[0];n.phoneDetails&&n.phoneDetails(i),t(i.IsValid===!0)}}function r(e){t(!!n.onError),n.onError&&n.onError(e)}var a={"phone":[].concat(e),"uaid":o.$Config.uaid};n.country&&(a.country=[].concat(n.country()));
var s=new v(null,n.url,a,i,r);s.start()}}}),ko.validation.registerExtenders()}();var KnockoutExtensions;!function(){var e=window,n=e.jQuery;ko.subscribable.fn.whenAttainsValue=function(e){var t=this,i=n.Deferred();if(!ko.isObservable(t)&&!ko.isComputed(t)||e!==t()){var o=t.subscribe(function(n){n===e&&(o.dispose(),i.resolve())})}else{i.resolve()}return i.promise()},ko.subscribable.fn.validation=function(){return this.isValidating.whenAttainsValue(!1)}}(KnockoutExtensions||(KnockoutExtensions={}));